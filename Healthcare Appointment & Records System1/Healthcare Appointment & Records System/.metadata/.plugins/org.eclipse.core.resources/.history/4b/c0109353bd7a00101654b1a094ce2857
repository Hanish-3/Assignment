    package com.example.api_gateway;

    import org.springframework.boot.SpringApplication;
    import org.springframework.boot.autoconfigure.SpringBootApplication;
    import org.springframework.cloud.gateway.route.RouteLocator;
    import org.springframework.cloud.gateway.route.builder.RouteLocatorBuilder;
    import org.springframework.context.annotation.Bean;

    @SpringBootApplication
    
    public class ApiGatewayApplication {

    	public static void main(String[] args) {
    		SpringApplication.run(ApiGatewayApplication.class, args);
    	}

    	@Bean
    	public RouteLocator routes(RouteLocatorBuilder builder) {
    		return builder.routes()
    				.route("patient-service", r -> r.path("/api/patients/**").uri("lb://patient-service"))
    				.route("doctor-service", r -> r.path("/api/doctors/**").uri("lb://doctor-service"))
    				.route("appointment-service", r -> r.path("/api/appointments/**").uri("lb://appointment-service"))
    				.route("medical-records-service", r -> r.path("/api/records/**").uri("lb://medical-records-service"))
    				.route("billing-service", r -> r.path("/api/billing/**").uri("lb://billing-service"))
    				.build();
    	}
    }
    